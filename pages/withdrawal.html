<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Withdrawal - Whalet</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        :root {
            --primary-blue: #7D33FF;
            --primary-light-blue: #6929CC;
            --secondary-blue: #f5f3ff;
            --neutral-gray: #6b7280;
        }
        
        body {
            background-color: #f9fafb;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            color: #111827;
        }
        
        /* 添加紫色按钮样式 */
        .text-\[\#7D33FF\] {
            color: #7D33FF !important;
        }
        
        .hover\:text-\[\#6929CC\]:hover {
            color: #6929CC !important;
        }
        
        .card {
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
            background: #ffffff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .account-card {
            transition: all 0.15s ease;
            border: 1px solid #e5e7eb;
            background: #ffffff;
        }
        
        .account-card:hover {
            border-color: var(--primary-blue);
        }
        
        .account-card.selected {
            background-color: #f8fafc;
            border-color: var(--primary-blue);
            border-width: 2px;
        }
        
        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
            transition: all 0.2s ease;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-light-blue);
        }
        
        .btn-secondary {
            background-color: white;
            color: var(--neutral-gray);
            border: 1px solid #e5e7eb;
            transition: all 0.2s ease;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
        }
        
        .btn-secondary:hover {
            background-color: #f9fafb;
            border-color: #d1d5db;
        }
        
        .input-group {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .input-group input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            font-size: 1rem;
            line-height: 1.5;
            transition: all 0.2s ease;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(125, 51, 255, 0.1);
        }
        
        .input-group .currency-symbol {
            position: absolute;
            left: 1rem;
            color: #6b7280;
            font-weight: 500;
        }
        
        .select-currency {
            padding: 0.75rem 2.5rem 0.75rem 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            background-color: white;
            font-size: 1rem;
            line-height: 1.5;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.25rem;
        }
        
        .select-currency:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .status-badge {
            padding: 0.15rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.65rem;
            font-weight: 500;
        }
        
        .status-badge.success {
            background-color: #ecfdf5;
            color: #047857;
        }
        
        .status-badge.pending {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .status-badge.rejected {
            background-color: #fee2e2;
            color: #b91c1c;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 1.5rem;
        }
        
        .info-text {
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        .notice-box {
            background-color: #fffbeb;
            border: 1px solid #fef3c7;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        
        .notice-box .title {
            color: #92400e;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        
        .notice-box .content {
            color: #92400e;
            opacity: 0.8;
        }
        
        .currency-card {
            transition: all 0.3s ease;
        }
        
        .currency-card.hidden-currency {
            display: none;
        }
        
        .currency-filter {
            position: relative;
            min-width: 180px;
        }
        
        .currency-filter select {
            appearance: none;
            padding-right: 2.5rem;
            background-position: right 0.75rem center;
            background-repeat: no-repeat;
            background-size: 1.25rem;
        }
        
        .tooltip {
            position: relative;
            display: inline-flex;
            align-items: center;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            background-color: #1f2937;
            color: white;
            text-align: left;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            line-height: 1.25;
            position: absolute;
            z-index: 1;
            width: max-content;
            max-width: 200px;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }
        
        /* Tab Styles */
        .tab-container {
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 2rem;
        }
        
        .tab-btn {
            border-bottom: 2px solid transparent;
            color: #6b7280;
        }
        .tab-btn:hover {
            color: #374151;
            border-bottom-color: #d1d5db;
        }
        .tab-btn.active {
            border-bottom: 2px solid #4f46e5;
            color: #4f46e5;
        }
        
        .tab-button {
            position: relative;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        .tab-button.active {
            color: #2563eb;
        }
        
        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #2563eb;
        }
        
        .tab-button:hover:not(.active) {
            color: #4b5563;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }

        .bank-logo {
            width: 2rem;
            height: 2rem;
            object-fit: contain;
            padding: 0.2rem;
            border-radius: 9999px;
            background: white;
            border: 1px solid #e5e7eb;
        }

        .bank-card {
            transition: all 0.2s ease;
            cursor: pointer;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 0.875rem;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .bank-card:hover {
            border-color: var(--primary-blue);
        }

        .currency-tag {
            background-color: #f3f4f6;
            padding: 0.15rem 0.4rem;
            border-radius: 9999px;
            font-size: 0.65rem;
            color: #4b5563;
            font-weight: 500;
        }

        .add-card-button {
            border: 2px dashed #e5e7eb;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            min-height: 140px;
            transition: all 0.2s ease;
        }

        .add-card-button:hover {
            border-color: var(--primary-blue);
            background-color: #f8fafc;
        }

        /* 导航栏悬停样式 */
        .text-gray-600:hover,
        .hover\:text-blue-600:hover,
        button.text-gray-600:hover,
        a.text-gray-600:hover,
        .text-gray-400:hover {
            color: #7D33FF !important;
        }
        
        /* 图标悬停样式 */
        button:hover i,
        a:hover i {
            color: #7D33FF !important;
        }
        
        /* 下拉菜单悬停样式 */
        .hover\:bg-gray-100:hover {
            color: #7D33FF !important;
        }

        .text-blue-600 {
            color: var(--primary-blue) !important;
        }
        
        .text-blue-700 {
            color: var(--primary-light-blue) !important;
        }
        
        .bg-blue-600 {
            background-color: var(--primary-blue) !important;
        }
        
        .bg-blue-700 {
            background-color: var(--primary-light-blue) !important;
        }
        
        .hover\:text-blue-600:hover {
            color: var(--primary-blue) !important;
        }
        
        .hover\:text-blue-700:hover {
            color: var(--primary-light-blue) !important;
        }
        
        .hover\:bg-blue-600:hover {
            background-color: var(--primary-blue) !important;
        }
        
        .hover\:bg-blue-700:hover {
            background-color: var(--primary-light-blue) !important;
        }
        
        .focus\:ring-blue-500:focus {
            --tw-ring-color: var(--primary-blue) !important;
        }
        
        .focus\:border-blue-500:focus {
            border-color: var(--primary-blue) !important;
        }
        
        .hover\:border-blue-500:hover {
            border-color: var(--primary-blue) !important;
        }

        .currency-flag {
            width: 24px;
            height: 16px;
            object-fit: cover;
            border-radius: 2px;
        }

        .currency-selector {
            display: flex;
            align-items: center;
            position: relative;
            min-width: 240px;
        }

        .currency-selector button {
            background: white;
            transition: all 0.2s ease;
            width: 100%;
        }

        .currency-selector button:hover {
            border-color: var(--primary-blue);
        }

        .currency-selector button:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(125, 51, 255, 0.1);
        }

        .currency-selector .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            margin-top: 4px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            z-index: 50;
            max-height: 250px;
            overflow-y: auto;
        }

        .currency-selector .dropdown-menu button {
            width: 100%;
            padding: 0.5rem 1rem;
            text-align: left;
            transition: all 0.2s ease;
        }

        .currency-selector .dropdown-menu button:hover {
            background-color: #f3f4f6;
        }
    </style>
</head>
<body>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Top Navigation -->
        <div class="bg-white rounded-lg shadow-sm mb-4">
            <div class="border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <nav class="flex justify-start -mb-px pl-6">
                        <button class="tab-btn whitespace-nowrap py-4 px-8 border-b-2 text-center text-sm font-medium">
                            Withdrawal
                        </button>
                        <button class="tab-btn whitespace-nowrap py-4 px-8 border-b-2 text-center text-sm font-medium">
                            Beneficiary Account
                        </button>
                    </nav>
                    <!-- 移除右上角的通知和帮助图标区域 -->
                </div>
            </div>
        </div>

        <!-- Tab Contents -->
        <div class="tab-contents">
            <!-- Withdrawal Tab -->
            <div id="withdrawal-tab" class="tab-content active" x-data="{
                currentStep: 1,
                selectedBank: null,
                withdrawalAmount: '',
                withdrawalCurrency: 'USD',
                availableCurrencies: ['USD', 'CNY', 'EUR', 'GBP'],
                withdrawalCurrencies: ['USD', 'EUR', 'GBP'],
                receivingCurrencies: ['USD', 'CNY', 'EUR', 'GBP'],
                balances: {
                    'USD': 10000.00,
                    'CNY': 50000.00,
                    'EUR': 8000.00,
                    'GBP': 6000.00
                },
                fee: 0,
                discountFee: 0,
                actualFee: 0,
                exchangeRate: 7.2297,
                countdown: 80,
                exchangeRateTimer: null,
                receivingAmount: 0,
                receivingCurrency: 'CNY',
                payerName: 'Whalet',
                remittancePurpose: '',
                transactionNote: '',
                transactionPassword: '',
                banks: [
                    { id: 1, name: '中国建设银行', number: '5343', currency: 'CNY', status: 'active' },
                    { id: 2, name: 'China Merchants Bank', number: '1234', currency: 'USD', status: 'active' }
                ],
                showBankSelector: false,
                showFeeDetails: false,
                isSubmitting: false,
                formErrors: {},
                showWithdrawalCurrencySelector: false,
                showReceivingCurrencySelector: false,
                
                init() {
                    this.initializeForm();
                    this.setupWatchers();
                    // 默认选中China Merchants Bank银行卡
                    if (this.banks.length > 0) {
                        this.selectedBank = this.banks[1]; // 选中第二个银行，即China Merchants Bank
                        this.receivingCurrency = this.banks[1].currency;
                    }
                },

                initializeForm() {
                    // 设置默认值
                    this.receivingCurrency = 'CNY';
                    this.formErrors = {
                        withdrawalAmount: '',
                        selectedBank: '',
                        remittancePurpose: ''
                    };
                },

                setupWatchers() {
                    this.$watch('withdrawalAmount', (value) => {
                        this.validateAmount(value);
                        this.calculateFees();
                        this.calculateReceivingAmount();
                    });
                    
                    this.$watch('selectedBank', (value) => {
                        if(value) {
                            this.receivingCurrency = value.currency;
                            this.startExchangeRateTimer();
                            this.formErrors.selectedBank = '';
                        }
                    });

                    this.$watch('withdrawalCurrency', () => {
                        this.startExchangeRateTimer();
                        this.calculateReceivingAmount();
                    });

                    this.$watch('receivingCurrency', (newVal, oldVal) => {
                        if(this.selectedBank && newVal !== this.selectedBank.currency) {
                            this.receivingCurrency = this.selectedBank.currency;
                        }
                    });
                },

                validateAmount(value) {
                    if (!value) {
                        this.formErrors.withdrawalAmount = '请输入提现金额';
                    } else if (parseFloat(value) < 150) {
                        this.formErrors.withdrawalAmount = '提现金额不能小于150';
                    } else if (parseFloat(value) > 250000) {
                        this.formErrors.withdrawalAmount = '提现金额不能超过250,000';
                    } else {
                        this.formErrors.withdrawalAmount = '';
                    }
                },
                
                calculateFees() {
                    if(!this.withdrawalAmount) return;
                    this.fee = 1.25;
                    this.discountFee = 0;
                    this.actualFee = this.fee - this.discountFee;
                },
                
                calculateReceivingAmount() {
                    if(!this.withdrawalAmount) return;
                    const amount = parseFloat(this.withdrawalAmount) - this.actualFee;
                    this.receivingAmount = this.withdrawalCurrency === this.receivingCurrency ? 
                        amount : 
                        amount * this.exchangeRate;
                },
                
                formatCurrency(amount, currency) {
                    return new Intl.NumberFormat('zh-CN', {
                        style: 'currency',
                        currency: currency
                    }).format(amount);
                },
                
                startExchangeRateTimer() {
                    if (this.exchangeRateTimer) {
                        clearInterval(this.exchangeRateTimer);
                        this.exchangeRateTimer = null;
                    }
                    
                    if (this.withdrawalCurrency === this.receivingCurrency) {
                        return;
                    }
                    
                    this.countdown = 80;
                    this.calculateReceivingAmount();
                    this.exchangeRateTimer = setInterval(() => {
                        this.countdown--;
                        if (this.countdown <= 0) {
                            this.exchangeRate = (Math.random() * 0.1 + 7.15).toFixed(4);
                            this.countdown = 80;
                            this.calculateReceivingAmount();
                        }
                    }, 1000);
                },

                goToStep(step) {
                    this.currentStep = step;
                },

                submitWithdrawal() {
                    if (!this.transactionPassword) {
                        this.formErrors.transactionPassword = 'Please enter transaction password';
                        return;
                    } else {
                        this.formErrors.transactionPassword = '';
                    }
                    // 这里添加提现提交逻辑
                    console.log('提交提现请求');
                    this.goToStep(3);
                }
            }">
                <div class="grid grid-cols-12 gap-6">
                    <!-- Step 1: 提现表单 -->
                    <div x-show="currentStep === 1" class="col-span-12 lg:col-span-8 order-last lg:order-first">
                        <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
                            <div class="px-6 py-4 bg-gradient-to-r from-blue-50 to-white border-b border-gray-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-7 h-7 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-wallet text-blue-600"></i>
                                    </div>
                                    <h3 class="text-base font-medium text-gray-800">Initiate Withdrawal</h3>
                                </div>
                            </div>

                            <!-- 提现表单内容 -->
                            <div class="p-6 space-y-4">
                                <!-- 提现银行卡选择 -->
                                <div class="form-group">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-gray-700">Beneficiary Account</label>
                                    </div>
                                    <div class="form-field">
                                        <div class="relative w-full">
                                            <!-- 选择框 -->
                                            <button 
                                                @click="showBankSelector = !showBankSelector"
                                                class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-left flex items-center justify-between hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors"
                                            >
                                                <template x-if="selectedBank">
                                                    <div class="flex items-center space-x-3 flex-1 min-w-0">
                                                        <div class="flex-shrink-0 w-8 h-8 bg-white rounded-lg flex items-center justify-center border border-gray-200 overflow-hidden">
                                                            <img :src="`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${selectedBank.currency.toLowerCase() === 'usd' ? 'us' : selectedBank.currency.toLowerCase() === 'cny' ? 'cn' : selectedBank.currency.toLowerCase() === 'gbp' ? 'gb' : selectedBank.currency.toLowerCase() === 'eur' ? 'eu' : selectedBank.currency.toLowerCase()}.svg`"
                                                                :alt="selectedBank.currency"
                                                                class="w-6 h-6 object-contain"
                                                                onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1idWlsZGluZy0yIj48cGF0aCBkPSJNNiAyMlY0YTIgMiAwIDAgMSAyLTJoOGEyIDIgMCAwIDEgMiAydjE4WiIvPjxwYXRoIGQ9Ik02IDEySDRhMiAyIDAgMCAwLTIgMnY2YTIgMiAwIDAgMCAyIDJoMiIvPjxwYXRoIGQ9Ik0xOCAxMmgyYTIgMiAwIDAgMSAyIDJ2NmEyIDIgMCAwIDEtMiAyaC0yIi8+PHBhdGggZD0iTTEwIDZoNCIvPjxwYXRoIGQ9Ik0xMCAxMGg0Ii8+PHBhdGggZD0iTTEwIDE0aDQiLz48cGF0aCBkPSJNMTAgMThoNCIvPjwvc3ZnPg=='">
                                                        </div>
                                                        <div class="flex items-center space-x-2 flex-1 min-w-0">
                                                            <span class="text-sm font-medium truncate" x-text="selectedBank.name"></span>
                                                            <span class="text-sm text-gray-500" x-text="'(' + selectedBank.number + ')'"></span>
                                                            <span class="text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded-full" x-text="selectedBank.currency"></span>
                                                        </div>
                                                    </div>
                                                </template>
                                                <template x-if="!selectedBank">
                                                    <span class="text-gray-500">Please select a bank card</span>
                                                </template>
                                                <i class="fas fa-chevron-down text-gray-400 ml-2 flex-shrink-0"></i>
                                            </button>
                                            
                                            <!-- 下拉框 -->
                                            <div 
                                                x-show="showBankSelector"
                                                @click.away="showBankSelector = false"
                                                class="absolute left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50"
                                                style="display: none;"
                                            >
                                                <div class="p-1">
                                                    <template x-for="bank in banks" :key="bank.id">
                                                        <div class="group relative">
                                                            <button
                                                                @click="selectedBank = bank; showBankSelector = false"
                                                                class="w-full px-3 py-2 flex items-center hover:bg-gray-50 rounded-md"
                                                            >
                                                                <div class="flex-shrink-0 w-8 h-8 bg-white rounded-lg flex items-center justify-center border border-gray-200 group-hover:border-blue-200 overflow-hidden">
                                                                    <img :src="`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${bank.currency.toLowerCase() === 'usd' ? 'us' : bank.currency.toLowerCase() === 'cny' ? 'cn' : bank.currency.toLowerCase() === 'gbp' ? 'gb' : bank.currency.toLowerCase() === 'eur' ? 'eu' : bank.currency.toLowerCase()}.svg`"
                                                                        :alt="bank.currency"
                                                                        class="w-6 h-6 object-contain"
                                                                        onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1idWlsZGluZy0yIj48cGF0aCBkPSJNNiAyMlY0YTIgMiAwIDAgMSAyLTJoOGEyIDIgMCAwIDEgMiAydjE4WiIvPjxwYXRoIGQ9Ik02IDEySDRhMiAyIDAgMCAwLTIgMnY2YTIgMiAwIDAgMCAyIDJoMiIvPjxwYXRoIGQ9Ik0xOCAxMmgyYTIgMiAwIDAgMSAyIDJ2NmEyIDIgMCAwIDEtMiAyaC0yIi8+PHBhdGggZD0iTTEwIDZoNCIvPjxwYXRoIGQ9Ik0xMCAxMGg0Ii8+PHBhdGggZD0iTTEwIDE0aDQiLz48cGF0aCBkPSJNMTAgMThoNCIvPjwvc3ZnPg=='">
                                                                </div>
                                                                <div class="ml-3 flex-1 flex items-center justify-between">
                                                                    <div class="flex items-center space-x-2">
                                                                        <span class="text-sm font-medium truncate" x-text="bank.name"></span>
                                                                        <span class="text-sm text-gray-500" x-text="'(' + bank.number + ')'"></span>
                                                                        <span class="text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded-full group-hover:bg-blue-50 group-hover:text-blue-600" x-text="bank.currency"></span>
                                                                    </div>
                                                                    <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                                                                        <span class="text-xs text-[#7D33FF] hover:text-[#6929CC] cursor-pointer">
                                                                            Set as Default
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </button>
                                                        </div>
                                                    </template>
                                                    <div class="border-t border-gray-100 mt-1">
                                                        <button
                                                            class="w-full px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md flex items-center justify-center"
                                                        >
                                                            <i class="fas fa-plus mr-2"></i>
                                                            Add New Bank Card
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 提现金额 -->
                                <div class="form-group mb-1">
                                    <div class="form-label flex justify-between items-center">
                                        <label class="text-sm font-medium text-gray-700">Withdrawal Amount</label>
                                        <div class="text-xs text-gray-500">
                                            Available: <span x-text="formatCurrency(balances[withdrawalCurrency], withdrawalCurrency)"></span>
                                        </div>
                                    </div>
                                    <div class="form-field">
                                        <div class="flex space-x-3">
                                            <div class="flex-1">
                                                <div class="relative">
                                                    <input
                                                        type="number"
                                                        x-model="withdrawalAmount"
                                                        class="w-full h-[46px] px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:ring-opacity-50 transition-colors"
                                                        :placeholder="`Available amount ${formatCurrency(balances[withdrawalCurrency], withdrawalCurrency).replace(/[^\d.]/g, '')}`"
                                                    >
                                                </div>
                                            </div>
                                            <div class="relative">
                                                <div class="currency-selector">
                                                    <button
                                                        @click="showWithdrawalCurrencySelector = !showWithdrawalCurrencySelector"
                                                        class="w-[220px] h-[46px] px-4 py-3 border border-gray-300 rounded-lg bg-white flex items-center justify-between hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors"
                                                    >
                                                        <div class="flex items-center space-x-3">
                                                            <img :src="`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${withdrawalCurrency.toLowerCase() === 'usd' ? 'us' : withdrawalCurrency.toLowerCase() === 'cny' ? 'cn' : withdrawalCurrency.toLowerCase() === 'gbp' ? 'gb' : withdrawalCurrency.toLowerCase() === 'eur' ? 'eu' : withdrawalCurrency.toLowerCase()}.svg`"
                                                                class="currency-flag"
                                                                :alt="withdrawalCurrency"
                                                            />
                                                            <span class="font-medium" x-text="withdrawalCurrency === 'USD' ? 'USD' : withdrawalCurrency === 'CNY' ? 'CNY' : withdrawalCurrency === 'EUR' ? 'EUR' : withdrawalCurrency === 'GBP' ? 'GBP' : withdrawalCurrency"></span>
                                                        </div>
                                                        <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
                                                    </button>
                                                    
                                                    <!-- 下拉选项 -->
                                                    <div 
                                                        x-show="showWithdrawalCurrencySelector"
                                                        @click.away="showWithdrawalCurrencySelector = false"
                                                        class="dropdown-menu"
                                                        style="display: none;"
                                                    >
                                                        <div class="py-1">
                                                            <template x-for="currency in withdrawalCurrencies" :key="currency">
                                                                <button
                                                                    @click="withdrawalCurrency = currency; showWithdrawalCurrencySelector = false"
                                                                    class="w-full px-4 py-2 flex items-center justify-between hover:bg-gray-50"
                                                                    :class="{'bg-gray-50': currency === withdrawalCurrency}"
                                                                >
                                                                    <div class="flex items-center space-x-3">
                                                                        <img :src="`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${currency.toLowerCase() === 'usd' ? 'us' : currency.toLowerCase() === 'cny' ? 'cn' : currency.toLowerCase() === 'gbp' ? 'gb' : currency.toLowerCase() === 'eur' ? 'eu' : currency.toLowerCase()}.svg`"
                                                                            class="currency-flag"
                                                                            :alt="currency"
                                                                        />
                                                                        <span x-text="currency === 'USD' ? 'USD' : currency === 'CNY' ? 'CNY' : currency === 'EUR' ? 'EUR' : currency === 'GBP' ? 'GBP' : currency"></span>
                                                                    </div>
                                                                    <span class="text-sm text-gray-500" x-text="formatCurrency(balances[currency], currency)"></span>
                                                                </button>
                                                            </template>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="mt-1 mb-0 text-xs text-gray-500">
                                            Minimum withdrawal amount: 150 USD, Maximum: 250,000 USD 
                                            <template x-if="selectedBank && selectedBank.currency === 'CNY'">
                                                <span>
                                                    Available amount: 10000.00 USD 
                                                    <button type="button" @click="$refs.withdrawalDetailsModal.showModal()" class="text-[#7D33FF] hover:text-[#6929CC]">View Details</button>
                                                </span>
                                            </template>
                                        </p>

                                        <!-- 提现详情弹框 -->
                                        <dialog x-ref="withdrawalDetailsModal" class="rounded-lg shadow-xl p-0 w-full max-w-2xl">
                                            <div class="bg-white rounded-lg overflow-hidden">
                                                <!-- 弹框标题 -->
                                                <div class="flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200">
                                                    <h3 class="text-lg font-medium text-gray-900">详情</h3>
                                                    <button @click="$refs.withdrawalDetailsModal.close()" class="text-gray-400 hover:text-gray-600">
                                                        <i class="fas fa-times"></i>
                                                    </button>
                                                </div>

                                                <!-- 弹框内容 -->
                                                <div class="p-6">
                                                    <div class="overflow-x-auto">
                                                        <table class="min-w-full">
                                                            <thead>
                                                                <tr class="bg-gray-50">
                                                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-600">平台名称</th>
                                                                    <th class="px-4 py-3 text-right text-sm font-medium text-gray-600">可用余额</th>
                                                                    <th class="px-4 py-3 text-right text-sm font-medium text-gray-600">可用额度</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="divide-y divide-gray-200">
                                                                <tr>
                                                                    <td class="px-4 py-3 text-sm text-gray-900">亚马逊北美站</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">186,548.99 USD、18,888 CAD</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">188,888.99 USD、235 CAD、5,845MIX</td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="px-4 py-3 text-sm text-gray-900">亚马逊欧洲站</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">999.99 EUR</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">0</td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="px-4 py-3 text-sm text-gray-900">eBay</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">0.00</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">2000.58 USD</td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="px-4 py-3 text-sm text-gray-900">速卖通</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">0.00</td>
                                                                    <td class="px-4 py-3 text-sm text-right text-gray-900">1020.58 EUR</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </dialog>
                                    </div>
                                </div>

                                <!-- 手续费信息 -->
                                <div class="form-group mt-0">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-transparent">&nbsp;</label>
                                    </div>
                                    <div class="form-field">
                                        <div class="bg-gray-50 rounded-lg p-3 space-y-2">
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-2">
                                                    <span class="text-sm text-gray-600">Fee</span>
                                                    <template x-if="withdrawalAmount">
                                                        <span class="text-xs font-medium" style="color: #7D33FF;">View Details</span>
                                                    </template>
                                                </div>
                                                <span class="text-sm font-medium text-gray-900" x-text="formatCurrency(fee, withdrawalCurrency)"></span>
                                            </div>
                                            <div class="flex items-center justify-between">
                                                <span class="text-sm text-gray-600">Fee Discount</span>
                                                <span class="text-sm font-medium" x-text="formatCurrency(discountFee, withdrawalCurrency)"></span>
                                            </div>
                                            <div class="flex items-center justify-between pb-2 border-b border-gray-200">
                                                <span class="text-sm font-medium">Actual Fee</span>
                                                <span class="text-sm font-medium" x-text="formatCurrency(actualFee, withdrawalCurrency)"></span>
                                            </div>
                                            <!-- Exchange Rate -->
                                            <template x-if="withdrawalCurrency !== receivingCurrency">
                                                <div class="flex items-center justify-between pt-2">
                                                    <span class="text-sm text-gray-600">Exchange Rate</span>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm" x-text="`USD/CNY=${exchangeRate}`"></span>
                                                        <span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md" x-text="`${countdown}s`"></span>
                                                    </div>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </div>

                                <!-- 到账金额 -->
                                <div class="form-group">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-gray-700">Receiving Amount</label>
                                    </div>
                                    <div class="form-field">
                                        <div class="flex space-x-3">
                                            <div class="flex-1">
                                                <input
                                                    type="number"
                                                    x-model="receivingAmount"
                                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:ring-opacity-50 transition-colors"
                                                    placeholder="Enter receiving amount"
                                                    readonly
                                                >
                                            </div>
                                            <div class="relative">
                                                <div class="currency-selector">
                                                    <button
                                                        @click="!selectedBank && (showReceivingCurrencySelector = !showReceivingCurrencySelector)"
                                                        :class="{'opacity-75 cursor-not-allowed': selectedBank}"
                                                        class="w-[220px] px-4 py-3 border border-gray-300 rounded-lg bg-white flex items-center justify-between hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors"
                                                    >
                                                        <div class="flex items-center space-x-3">
                                                            <img :src="`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${receivingCurrency.toLowerCase() === 'usd' ? 'us' : receivingCurrency.toLowerCase() === 'cny' ? 'cn' : receivingCurrency.toLowerCase() === 'gbp' ? 'gb' : receivingCurrency.toLowerCase() === 'eur' ? 'eu' : receivingCurrency.toLowerCase()}.svg`"
                                                                class="currency-flag"
                                                                :alt="receivingCurrency"
                                                            />
                                                            <span class="font-medium" x-text="receivingCurrency === 'USD' ? 'USD' : receivingCurrency === 'CNY' ? 'CNY' : receivingCurrency === 'EUR' ? 'EUR' : receivingCurrency === 'GBP' ? 'GBP' : receivingCurrency"></span>
                                                        </div>
                                                        <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-2 flex items-start space-x-2">
                                            <i class="fas fa-exclamation-circle text-yellow-500 mt-0.5"></i>
                                            <div class="flex flex-col">
                                                <p class="text-sm text-gray-500">Due to bank holidays, estimated arrival time: March 18, 2024. Actual arrival time is subject to bank processing. Please check local bank holiday arrangements.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 付款人名称 (动态显示) -->
                                <div class="form-group" x-show="selectedBank && selectedBank.currency !== 'CNY'">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-gray-700">Payer Name</label>
                                    </div>
                                    <div class="form-field">
                                        <div class="relative" x-data="{ open: false }">
                                            <button
                                                @click="open = !open"
                                                type="button"
                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:ring-opacity-50 text-left flex items-center justify-between transition-colors"
                                            >
                                                <div class="flex items-center justify-between flex-1">
                                                    <span x-text="payerName"></span>
                                                    <span x-show="payerName === 'Whalet'" class="text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full">Free</span>
                                                    <span x-show="payerName === 'Zhang San'" class="text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded-full">Limited Time Free</span>
                                                </div>
                                                <i class="fas fa-chevron-down text-gray-400 ml-2"></i>
                                            </button>
                                            
                                            <div
                                                x-show="open"
                                                @click.away="open = false"
                                                class="absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg"
                                                style="display: none;"
                                            >
                                                <div class="py-1">
                                                    <button
                                                        @click="payerName = 'Whalet'; open = false"
                                                        class="w-full px-4 py-2 text-left hover:bg-gray-50"
                                                    >
                                                        <div class="flex items-center justify-between">
                                                            <span>Whalet</span>
                                                            <span class="text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full">Free</span>
                                                        </div>
                                                    </button>
                                                    <button
                                                        @click="payerName = 'Zhang San'; open = false"
                                                        class="w-full px-4 py-2 text-left hover:bg-gray-50"
                                                    >
                                                        <div class="flex items-center justify-between">
                                                            <span>Zhang San</span>
                                                            <span class="text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded-full">Limited Time Free</span>
                                                        </div>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 汇款目的 (动态显示) -->
                                <div class="form-group" x-show="selectedBank && selectedBank.currency !== 'CNY'">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-gray-700">Remittance Purpose</label>
                                    </div>
                                    <div class="form-field">
                                        <select
                                            x-model="remittancePurpose"
                                            class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:ring-opacity-50 appearance-none transition-colors"
                                        >
                                            <option value="">Select Remittance Purpose</option>
                                            <option value="goods">Advanced Goods Payments</option>
                                            <option value="service">Export Goods Payments</option>
                                            <option value="investment">Goods and Services</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- 交易附言 (动态显示) -->
                                <div class="form-group" x-show="selectedBank && selectedBank.currency !== 'CNY'">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-gray-700">Transaction Note</label>
                                    </div>
                                    <div class="form-field">
                                        <input
                                            type="text"
                                            x-model="transactionNote"
                                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:ring-opacity-50 transition-colors"
                                            placeholder="Enter transaction note"
                                        >
                                    </div>
                                </div>

                                <!-- 提交按钮 -->
                                <div class="form-group pt-3 mt-3 border-t border-gray-200">
                                    <div class="form-label">
                                        <label class="text-sm font-medium text-transparent">&nbsp;</label>
                                    </div>
                                    <div class="form-field">
                                        <div class="flex justify-center">
                                            <button 
                                                @click="goToStep(2)"
                                                class="w-48 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-base font-medium"
                                                :disabled="!selectedBank || !withdrawalAmount"
                                                :class="{'opacity-50 cursor-not-allowed': !selectedBank || !withdrawalAmount}"
                                            >
                                                Next Step
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Withdrawal Confirmation -->
                    <div x-show="currentStep === 2" class="col-span-12 lg:col-span-8 order-last lg:order-first">
                        <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
                            <div class="px-6 py-4 bg-gradient-to-r from-blue-50 to-white border-b border-gray-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-7 h-7 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-check text-blue-600"></i>
                                    </div>
                                    <h3 class="text-base font-medium text-gray-800">Confirm Withdrawal Information</h3>
                                </div>
                            </div>

                            <div class="p-6">
                                <!-- Notice -->
                                <div class="mb-6 bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start space-x-3">
                                    <div class="flex-shrink-0 mt-0.5">
                                        <i class="fas fa-info-circle text-blue-600"></i>
                                    </div>
                                    <p class="text-sm text-blue-700">
                                        Please verify the receiving account information. If the bank account information is incorrect or the account name does not match, the funds will be returned by the receiving bank, and the withdrawal service fee and bank fee will not be refunded!
                                    </p>
                                </div>

                                <!-- Withdrawal Information Confirmation -->
                                <div class="space-y-6">
                                    <!-- Bank Card Information -->
                                    <div class="flex justify-between items-start pb-4 border-b border-gray-100">
                                        <div class="space-y-1">
                                            <div class="text-sm text-gray-500">Bank Card Information</div>
                                            <div class="font-medium" x-text="selectedBank?.name + ' (' + selectedBank?.number + ')'"></div>
                                        </div>
                                    </div>

                                    <!-- Withdrawal Amount -->
                                    <div class="flex justify-between items-start pb-4 border-b border-gray-100">
                                        <div class="space-y-1">
                                            <div class="text-sm text-gray-500">Withdrawal Amount</div>
                                            <div class="font-medium" x-text="formatCurrency(withdrawalAmount, withdrawalCurrency)"></div>
                                        </div>
                                    </div>

                                    <!-- Fee -->
                                    <div class="flex justify-between items-start pb-4 border-b border-gray-100">
                                        <div class="space-y-1">
                                            <div class="text-sm text-gray-500">Fee</div>
                                            <div class="font-medium" x-text="formatCurrency(actualFee, withdrawalCurrency)"></div>
                                        </div>
                                    </div>

                                    <!-- Exchange Rate -->
                                    <div class="flex justify-between items-start pb-4 border-b border-gray-100" x-show="withdrawalCurrency !== receivingCurrency">
                                        <div class="space-y-1">
                                            <div class="text-sm text-gray-500">Exchange Rate</div>
                                            <div class="font-medium flex items-center space-x-2">
                                                <span x-text="`USD/CNY = ${exchangeRate}`"></span>
                                                <span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md" x-text="`${countdown}s`"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Receiving Amount -->
                                    <div class="flex justify-between items-start pb-4 border-b border-gray-100">
                                        <div class="space-y-1">
                                            <div class="text-sm text-gray-500">Receiving Amount</div>
                                            <div class="font-medium" x-text="formatCurrency(receivingAmount, receivingCurrency)"></div>
                                        </div>
                                    </div>

                                    <!-- Estimated Arrival Time -->
                                    <div class="flex justify-between items-start">
                                        <div class="space-y-1">
                                            <div class="text-sm text-gray-500">Estimated Arrival Time</div>
                                            <div class="font-medium">March 25, 2025 (Subject to bank processing during non-working hours)</div>
                                        </div>
                                    </div>

                                    <!-- Transaction Password -->
                                    <div class="pt-6 mt-6 border-t border-gray-200">
                                        <div class="flex justify-between items-center mb-2">
                                            <label class="text-sm font-medium text-gray-700">Transaction Password</label>
                                            <a href="#" class="text-xs text-blue-600 hover:text-blue-700">Forgot Password?</a>
                                        </div>
                                        <div class="relative">
                                            <input
                                                type="password"
                                                x-model="transactionPassword"
                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:ring-opacity-50 transition-colors"
                                                placeholder="Enter transaction password"
                                            >
                                            <p class="mt-1 text-xs text-red-500" x-show="formErrors.transactionPassword" x-text="formErrors.transactionPassword"></p>
                                        </div>
                                    </div>

                                    <!-- Button Group -->
                                    <div class="flex justify-center space-x-4 pt-6">
                                        <button 
                                            @click="goToStep(1)"
                                            class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"
                                        >
                                            Back
                                        </button>
                                        <button 
                                            @click="submitWithdrawal()"
                                            class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"
                                        >
                                            Confirm Withdrawal
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Withdrawal Application Result -->
                    <div x-show="currentStep === 3" class="col-span-12 lg:col-span-8 order-last lg:order-first">
                        <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
                            <div class="p-8">
                                <div class="flex flex-col items-center justify-center text-center">
                                    <!-- Success Icon -->
                                    <div class="w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mb-4">
                                        <i class="fas fa-check-circle text-3xl text-green-500"></i>
                                    </div>
                                    
                                    <!-- Title -->
                                    <h2 class="text-xl font-medium text-green-600 mb-2">
                                        Withdrawal Request Successful
                                    </h2>
                                    
                                    <!-- Description -->
                                    <p class="text-gray-600 mb-8">
                                        Withdrawal request submitted successfully, waiting for bank processing!
                                    </p>
                                    
                                    <!-- Button Group -->
                                    <div class="flex space-x-4">
                                        <a href="transaction-records.html" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
                                            View Withdrawal Records
                                        </a>
                                        <button 
                                            @click="currentStep = 1; withdrawalAmount = ''; transactionPassword = ''"
                                            class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"
                                        >
                                            Continue Withdrawal
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 右侧提现记录 -->
                    <div class="col-span-12 lg:col-span-4 order-first lg:order-last">
                        <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
                            <div class="px-4 py-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-history text-gray-600"></i>
                                        </div>
                                        <h3 class="text-lg font-medium text-gray-800">Recent Withdrawal Records</h3>
                                    </div>
                                    <a href="#" class="text-sm text-blue-600 hover:text-blue-700 flex items-center group">
                                        View All
                                        <i class="fas fa-chevron-right ml-1 text-xs transition-transform group-hover:translate-x-0.5"></i>
                                    </a>
                                </div>
                            </div>
                            
                            <div class="p-3">
                                <table class="w-full">
                                    <thead>
                                        <tr class="text-xs text-gray-500 uppercase">
                                            <th class="pb-2 text-left w-20">Date</th>
                                            <th class="pb-2 text-right">Amount</th>
                                            <th class="pb-2 text-center w-16">Status</th>
                                            <th class="pb-2 text-right w-12">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-sm">
                                        <tr class="border-t border-gray-100">
                                            <td class="py-2 text-gray-600">09-15</td>
                                            <td class="py-2 text-right font-medium">¥10,000</td>
                                            <td class="py-2">
                                                <div class="flex justify-center">
                                                    <span class="status-badge success">Completed</span>
                                            </div>
                                        </td>
                                            <td class="py-2 text-right">
                                                <button class="text-blue-600 hover:text-blue-700">Details</button>
                                        </td>
                                    </tr>
                                        <tr class="border-t border-gray-100">
                                            <td class="py-2 text-gray-600">09-10</td>
                                            <td class="py-2 text-right font-medium">¥5,000</td>
                                            <td class="py-2">
                                                <div class="flex justify-center">
                                                    <span class="status-badge success">Completed</span>
                                            </div>
                                        </td>
                                            <td class="py-2 text-right">
                                                <button class="text-blue-600 hover:text-blue-700">Details</button>
                                        </td>
                                    </tr>
                                        <tr class="border-t border-gray-100">
                                            <td class="py-2 text-gray-600">09-05</td>
                                            <td class="py-2 text-right font-medium">¥8,500</td>
                                            <td class="py-2">
                                                <div class="flex justify-center">
                                                    <span class="status-badge pending">Processing</span>
                                            </div>
                                        </td>
                                            <td class="py-2 text-right">
                                                <button class="text-blue-600 hover:text-blue-700">Details</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        </div>

                        <!-- 可用额度板块 -->
                        <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden mt-4">
                            <div class="px-4 py-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-wallet text-gray-600"></i>
                                        </div>
                                        <h3 class="text-lg font-medium text-gray-800">Available Balance</h3>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 提示信息 -->
                            <div class="p-2 bg-yellow-50 border-b border-yellow-100">
                                <div class="flex items-start space-x-1.5">
                                    <i class="fas fa-exclamation-circle text-yellow-600 text-xs mt-0.5"></i>
                                    <p class="text-xs text-yellow-700 leading-4">
                                        According to domestic regulatory requirements, CNY settlement requires you to provide real trade order information as settlement basis. Please authorize your store or upload relevant transaction records.
                                    </p>
                                </div>
                            </div>
                            
                            <div class="p-3" x-data="{ expanded: false }">
                                <div class="space-y-3">
                                    <!-- 美元总额度 -->
                                    <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg group">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/us.svg" 
                                                 alt="USD" 
                                                 class="w-6 h-4 object-cover rounded">
                                            <div>
                                                <div class="text-sm font-medium">Total USD Balance</div>
                                                <div class="text-lg font-semibold">$ 165,068.70</div>
                                            </div>
                                        </div>
                                        <button class="text-[#7D33FF] hover:text-[#6929CC] text-sm"
                                                @click="$refs.balanceDetailsModal.showModal()">
                                            Details
                                        </button>
                                    </div>

                                    <!-- 欧元总额度 -->
                                    <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg group">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/eu.svg" 
                                                 alt="EUR" 
                                                 class="w-6 h-4 object-cover rounded">
                                            <div>
                                                <div class="text-sm font-medium">Total EUR Balance</div>
                                                <div class="text-lg font-semibold">€ 15,230.00</div>
                                            </div>
                                        </div>
                                        <button class="text-[#7D33FF] hover:text-[#6929CC] text-sm"
                                                @click="$refs.balanceDetailsModal.showModal()">
                                            Details
                                        </button>
                                    </div>

                                    <!-- 英镑总额度 -->
                                    <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg group">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/gb.svg" 
                                                 alt="GBP" 
                                                 class="w-6 h-4 object-cover rounded">
                                            <div>
                                                <div class="text-sm font-medium">Total GBP Balance</div>
                                                <div class="text-lg font-semibold">£ 8,450.00</div>
                                            </div>
                                        </div>
                                        <button class="text-[#7D33FF] hover:text-[#6929CC] text-sm"
                                                @click="$refs.balanceDetailsModal.showModal()">
                                            Details
                                        </button>
                                    </div>

                                    <!-- 展开/收起按钮 -->
                                    <button 
                                        @click="expanded = !expanded"
                                        class="w-full py-1 text-sm text-gray-500 hover:text-gray-700 flex items-center justify-center group"
                                    >
                                        <span x-text="expanded ? 'Collapse' : 'Expand'"></span>
                                        <i class="fas fa-chevron-down ml-1 transition-transform duration-200"
                                           :class="expanded ? 'transform rotate-180' : ''"></i>
                                    </button>

                                    <!-- 更多币种（展开时显示） -->
                                    <div x-show="expanded" x-collapse>
                                        <!-- 日元总额度 -->
                                        <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg group">
                                            <div class="flex items-center space-x-3">
                                                <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/jp.svg" 
                                                     alt="JPY" 
                                                     class="w-6 h-4 object-cover rounded">
                                                <div>
                                                    <div class="text-sm font-medium">Total JPY Balance</div>
                                                    <div class="text-lg font-semibold">¥ 2,350,000</div>
                                                </div>
                                            </div>
                                            <button class="text-[#7D33FF] hover:text-[#6929CC] text-sm"
                                                    @click="$refs.balanceDetailsModal.showModal()">
                                                Details
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 余额详情弹框 -->
                        <dialog x-ref="balanceDetailsModal" class="rounded-lg shadow-xl p-0 w-full max-w-lg">
                            <div class="bg-white rounded-lg overflow-hidden">
                                <!-- 弹框标题 -->
                                <div class="px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/us.svg" 
                                                 alt="USD" 
                                                 class="w-8 h-6 object-cover rounded">
                                            <div>
                                                <div class="text-sm text-gray-600">Total USD Balance (USD)</div>
                                                <div class="text-2xl font-semibold">$ 165,068.70</div>
                                            </div>
                                        </div>
                                        <button @click="$refs.balanceDetailsModal.close()" class="text-gray-400 hover:text-gray-600">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- 弹框内容 -->
                                <div class="p-6">
                                    <div class="space-y-3">
                                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                            <span class="text-sm text-gray-600">Magento</span>
                                            <span class="text-sm font-medium">$ 45,431.52</span>
                                        </div>
                                        
                                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                            <span class="text-sm text-gray-600">XShoppy</span>
                                            <span class="text-sm font-medium">$ 264.97</span>
                                        </div>
                                        
                                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                            <span class="text-sm text-gray-600">All Other Sites</span>
                                            <span class="text-sm font-medium">$ 91,790.12</span>
                                        </div>
                                        
                                        <div class="flex justify-between items-center py-2">
                                            <span class="text-sm text-gray-600">GoogleAdSense</span>
                                            <span class="text-sm font-medium">$ 27,582.09</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </dialog>
                    </div>
                </div>
            </div>

            <!-- 我的银行卡 Tab -->
            <div id="bank-cards-tab" class="tab-content" x-show="currentTab === 'bank-cards'" x-cloak>
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-lg font-medium text-gray-800">Beneficiary Account</h2>
                        <a href="add-bank-card.html?return_tab=bank-cards" class="text-sm text-blue-600 hover:text-blue-700 font-medium">
                            <i class="fas fa-plus mr-1"></i>
                            Add New Card
                        </a>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Add New Card Button -->
                        <a href="add-bank-card.html?return_tab=bank-cards" class="bank-card add-card-button">
                            <i class="fas fa-plus-circle text-2xl text-gray-400 mb-1"></i>
                            <span class="text-xs text-gray-600">Add New Bank Card</span>
                        </a>

                        <!-- CNY Bank Card (China Mainland) -->
                        <div class="bank-card cursor-pointer hover:shadow-md transition-shadow" onclick="showCardDetails(this)">
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex items-center space-x-1.5">
                                    <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/cn.svg" alt="CNY" class="bank-logo">
                                    <span class="status-badge success">Active</span>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <span class="currency-tag">CNY</span>
                                    <button class="text-gray-400 hover:text-red-500 text-xs" onclick="event.stopPropagation()">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="space-y-0.5 mt-auto">
                                <h3 class="font-medium text-sm">Bank of China</h3>
                                <p class="text-xs text-gray-600">ZHANG SAN</p>
                                <p class="text-xs text-gray-500">**** **** **** 5678</p>
                                <div class="flex items-center mt-1">
                                    <span class="text-xs text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded-full">Default Account</span>
                                </div>
                            </div>
                        </div>

                        <!-- USD Bank Card -->
                        <div class="bank-card cursor-pointer hover:shadow-md transition-shadow" onclick="showCardDetails(this)">
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex items-center space-x-1.5">
                                    <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/us.svg" alt="USD" class="bank-logo">
                                    <span class="status-badge success">Active</span>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <span class="currency-tag">USD</span>
                                    <button class="text-gray-400 hover:text-red-500 text-xs" onclick="event.stopPropagation()">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="space-y-0.5 mt-auto">
                                <h3 class="font-medium text-sm">Bank of America</h3>
                                <p class="text-xs text-gray-600">ZHANG SAN</p>
                                <p class="text-xs text-gray-500">**** **** **** 1234</p>
                            </div>
                        </div>

                        <!-- 审核中的银行卡 -->
                        <div class="bank-card cursor-pointer hover:shadow-md transition-shadow" onclick="showCardDetails(this)">
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex items-center space-x-1.5">
                                    <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/eu.svg" alt="EUR" class="bank-logo">
                                    <span class="status-badge pending">Under Review</span>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <span class="currency-tag">EUR</span>
                                    <button class="text-gray-400 hover:text-red-500 text-xs" onclick="event.stopPropagation()">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="space-y-0.5 mt-auto">
                                <h3 class="font-medium text-sm">Deutsche Bank</h3>
                                <p class="text-xs text-gray-600">ZHANG SAN</p>
                                <p class="text-xs text-gray-500">**** **** **** 5678</p>
                                <div class="flex items-center mt-1">
                                    <span class="text-xs text-yellow-600 bg-yellow-50 px-1.5 py-0.5 rounded-full">Estimated 1-3 business days for review</span>
                                </div>
                            </div>
                        </div>

                        <!-- 被驳回的银行卡 -->
                        <div class="bank-card cursor-pointer hover:shadow-md transition-shadow" onclick="showCardDetails(this)">
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex items-center space-x-1.5">
                                    <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/gb.svg" alt="GBP" class="bank-logo">
                                    <span class="status-badge rejected">Rejected</span>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <span class="currency-tag">GBP</span>
                                    <button class="text-gray-400 hover:text-red-500 text-xs" onclick="event.stopPropagation()">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="space-y-0.5 mt-auto">
                                <h3 class="font-medium text-sm">Barclays Bank</h3>
                                <p class="text-xs text-gray-600">ZHANG SAN</p>
                                <p class="text-xs text-gray-500">**** **** **** 9012</p>
                                <div class="flex items-center mt-1">
                                    <span class="text-xs text-red-600 bg-red-50 px-1.5 py-0.5 rounded-full">Please modify and resubmit</span>
                                </div>
                                <div class="flex justify-end mt-2">
                                    <button onclick="event.stopPropagation(); window.location.href='add-bank-card.html?edit=1&id=9012'" class="text-xs text-[#7D33FF] hover:text-[#6929CC] flex items-center">
                                        <i class="fas fa-redo-alt mr-1"></i>
                                        Resubmit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching functionality
            const tabs = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            // Function to switch tabs
            function switchTab(tabIndex) {
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => {
                    c.classList.remove('active');
                    c.style.display = 'none';
                });
                tabs[tabIndex].classList.add('active');
                tabContents[tabIndex].classList.add('active');
                tabContents[tabIndex].style.display = 'block';
            }

            // Add click event listeners to tabs
            tabs.forEach((tab, index) => {
                tab.addEventListener('click', () => {
                    switchTab(index);
                });
            });

            // Initialize with withdrawal tab active
            switchTab(0);
        });

        // 显示银行卡详情
        function showCardDetails(card) {
            const currency = card.querySelector('.currency-tag').textContent;
            if (currency === 'CNY') {
                document.getElementById('bankCardDetailsModal').showModal();
            } else if (currency === 'USD') {
                document.getElementById('usdBankCardDetailsModal').showModal();
            }
        }
    </script>

    <!-- 银行卡详情弹框 -->
    <dialog id="bankCardDetailsModal" class="rounded-lg shadow-xl p-0 w-full max-w-2xl">
        <div class="bg-white rounded-lg overflow-hidden">
            <!-- 弹框标题 -->
            <div class="px-5 py-3 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="text-base font-medium">Bank Card Information</h3>
                    <button onclick="document.getElementById('bankCardDetailsModal').close()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <!-- 弹框内容 -->
            <div class="p-5">
                <div class="space-y-4">
                    <!-- 基本信息 -->
                    <div class="flex items-start space-x-3">
                        <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/cn.svg" alt="CNY" class="w-10 h-10 object-contain p-1.5 border border-gray-200 rounded-lg">
                        <div class="flex-1">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="text-base font-medium">Industrial and Commercial Bank of China</h4>
                                    <p class="text-sm text-gray-500">Name: Wahaha Group Chongqing Third Branch</p>
                                </div>
                                <span class="status-badge success text-xs">Active</span>
                            </div>
                            <div class="mt-1.5 flex items-center space-x-2">
                                <span class="text-sm text-gray-600">Card Number: **** **** **** 4321</span>
                                <button @click="$refs.viewCardNumberModal.showModal()" class="text-xs text-[#7D33FF] hover:text-[#6929CC]">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 账户信息 -->
                    <div class="grid grid-cols-2 gap-3 mt-3">
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Account Bank</span>
                            <span class="text-sm font-medium">Chongqing Yubei District</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Branch Name</span>
                            <span class="text-sm font-medium">Chongqing Yubei Branch</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Bank Address</span>
                            <span class="text-sm font-medium">166 Xinnan Road, Yubei District, Chongqing</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Account Type</span>
                            <span class="text-sm font-medium">Corporate Account</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Currency</span>
                            <span class="text-sm font-medium">CNY</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Reserved Phone Number</span>
                            <span class="text-sm font-medium">159****4259</span>
                        </div>
                        <div class="flex justify-between py-2 col-span-2">
                            <span class="text-sm text-gray-600">Corporate Bank Account Info</span>
                            <button class="text-xs text-[#7D33FF] hover:text-[#6929CC]">
                                <i class="fas fa-image mr-1"></i>
                                View
                            </button>
                        </div>
                    </div>

                    <!-- 操作按钮 -->
                    <div class="flex justify-end space-x-3 pt-3 mt-3 border-t border-gray-200">
                        <button class="px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900">
                            <i class="fas fa-trash-alt mr-1.5"></i>
                            Delete
                        </button>
                        <button class="px-3 py-1.5 text-sm text-[#7D33FF] hover:text-[#6929CC]">
                            <i class="fas fa-star mr-1.5"></i>
                            Set as Default
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <!-- 查看卡号弹框 -->
    <dialog id="viewCardNumberModal" x-ref="viewCardNumberModal" class="rounded-lg shadow-xl p-0 w-full max-w-sm">
        <div class="bg-white rounded-lg overflow-hidden">
            <!-- 弹框标题 -->
            <div class="px-5 py-3 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="text-base font-medium text-gray-900">查看银行卡号</h3>
                    <button @click="$refs.viewCardNumberModal.close()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <!-- 弹框内容 -->
            <div class="p-5" x-data="{ password: '', errorMsg: '', cardNumber: '', showNumber: false }">
                <div class="space-y-4">
                    <div class="text-sm text-gray-500">
                        请输入交易密码验证身份
                    </div>
                    
                    <!-- 密码输入框 -->
                    <div class="relative">
                        <input 
                            type="password" 
                            x-model="password"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7D33FF] focus:border-[#7D33FF] focus:ring-opacity-50 transition-colors text-sm"
                            placeholder="请输入交易密码"
                        >
                        <p x-show="errorMsg" x-text="errorMsg" class="mt-1 text-xs text-red-500"></p>
                    </div>

                    <!-- 按钮 -->
                    <div class="flex justify-end space-x-3 pt-3">
                        <button 
                            @click="$refs.viewCardNumberModal.close()" 
                            class="px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900"
                        >
                            取消
                        </button>
                        <button 
                            @click="
                                if (password === '123456') {  // 这里替换为实际的密码验证逻辑
                                    cardNumber = '6222 0000 1234 5678';
                                    showNumber = true;
                                    errorMsg = '';
                                } else {
                                    errorMsg = '交易密码错误，请重新输入';
                                    password = '';
                                }
                            "
                            class="px-3 py-1.5 text-sm text-white bg-[#7D33FF] hover:bg-[#6929CC] rounded-lg transition-colors"
                        >
                            确认
                        </button>
                    </div>

                    <!-- 显示卡号 -->
                    <div x-show="showNumber" class="pt-3 border-t border-gray-200">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">银行卡号</span>
                            <span class="text-sm font-medium" x-text="cardNumber"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <!-- 美元账户银行卡详情弹框 -->
    <dialog id="usdBankCardDetailsModal" class="rounded-lg shadow-xl p-0 w-full max-w-2xl">
        <div class="bg-white rounded-lg overflow-hidden">
            <!-- 弹框标题 -->
            <div class="px-5 py-3 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="text-base font-medium">Bank Card Information</h3>
                    <button onclick="document.getElementById('usdBankCardDetailsModal').close()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <!-- 弹框内容 -->
            <div class="p-5">
                <div class="space-y-4">
                    <!-- 基本信息 -->
                    <div class="flex items-start space-x-3 mb-3">
                        <img src="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/us.svg" alt="USD" class="w-8 h-8 object-contain p-1.5 border border-gray-200 rounded-lg">
                        <div class="flex-1">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="text-base font-medium">123456</h4>
                                    <p class="text-sm text-gray-500">Name: Wahaha Group Chongqing second branch company</p>
                                </div>
                                <span class="status-badge success text-xs">Active</span>
                            </div>
                            <div class="mt-1 flex items-center space-x-2">
                                <span class="text-sm text-gray-600">Card Number: **** **** **** 4463</span>
                                <button @click="$refs.viewUsdCardNumberModal.showModal()" class="text-xs text-[#7D33FF] hover:text-[#6929CC]">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 账户信息 -->
                    <div class="grid grid-cols-2 gap-x-6 gap-y-2">
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Account Type</span>
                            <span class="text-sm font-medium">Corporate Account</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Currency</span>
                            <span class="text-sm font-medium">USD</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Bank Name</span>
                            <span class="text-sm font-medium">123456</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Bank Swift Code</span>
                            <span class="text-sm font-medium">12345678XXX</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Bank Address</span>
                            <span class="text-sm font-medium">123456</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Routing Number</span>
                            <span class="text-sm font-medium">--</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Recipient Address</span>
                            <span class="text-sm font-medium">123456 US</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Recipient Zip Code</span>
                            <span class="text-sm font-medium">--</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Contact Phone</span>
                            <span class="text-sm font-medium">--</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span class="text-sm text-gray-600">Email</span>
                            <span class="text-sm font-medium">--</span>
                        </div>
                    </div>

                    <!-- 操作按钮 -->
                    <div class="flex justify-end space-x-3 pt-3 mt-3 border-t border-gray-200">
                        <button class="px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900">
                            <i class="fas fa-trash-alt mr-1.5"></i>
                            Delete
                        </button>
                        <button class="px-3 py-1.5 text-sm text-[#7D33FF] hover:text-[#6929CC]">
                            <i class="fas fa-star mr-1.5"></i>
                            Set as Default
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <!-- 查看美元账户卡号弹框 -->
    <dialog id="viewUsdCardNumberModal" x-ref="viewUsdCardNumberModal" class="rounded-lg shadow-xl p-0 w-full max-w-sm">
        <div class="bg-white rounded-lg overflow-hidden">
            <!-- 弹框标题 -->
            <div class="px-5 py-3 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="text-base font-medium text-gray-900">查看银行卡号</h3>
                    <button @click="$refs.viewUsdCardNumberModal.close()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <!-- 弹框内容 -->
            <div class="p-5" x-data="{ password: '', errorMsg: '', cardNumber: '', showNumber: false }">
                <div class="space-y-4">
                    <div class="text-sm text-gray-500">
                        请输入交易密码验证身份
                    </div>
                    
                    <!-- 密码输入框 -->
                    <div class="relative">
                        <input 
                            type="password" 
                            x-model="password"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7D33FF] focus:border-[#7D33FF] focus:ring-opacity-50 transition-colors text-sm"
                            placeholder="请输入交易密码"
                        >
                        <p x-show="errorMsg" x-text="errorMsg" class="mt-1 text-xs text-red-500"></p>
                    </div>

                    <!-- 按钮 -->
                    <div class="flex justify-end space-x-3 pt-3">
                        <button 
                            @click="$refs.viewUsdCardNumberModal.close()" 
                            class="px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900"
                        >
                            取消
                        </button>
                        <button 
                            @click="
                                if (password === '123456') {
                                    cardNumber = '**** **** **** 4463';
                                    showNumber = true;
                                    errorMsg = '';
                                } else {
                                    errorMsg = '交易密码错误，请重新输入';
                                    password = '';
                                }
                            "
                            class="px-3 py-1.5 text-sm text-white bg-[#7D33FF] hover:bg-[#6929CC] rounded-lg transition-colors"
                        >
                            确认
                        </button>
                    </div>

                    <!-- 显示卡号 -->
                    <div x-show="showNumber" class="pt-3 border-t border-gray-200">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">银行卡号</span>
                            <span class="text-sm font-medium" x-text="cardNumber"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </dialog>
</body>
</html> 